<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Return on Investment (ROI)</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/navbar.css') }}"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="d-flex">
      <!-- Tombol Hamburger -->
      <button class="navbar-toggler" type="button" id="toggleNavbar">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Navbar Vertikal -->
      <nav
        id="sidebar"
        class="nav flex-column bg-light p-3"
        style="width: 200px; display: none"
      >
        <a class="nav-link active" href="{{ url_for('index') }}">Home</a>
        <a class="nav-link active" href="{{ url_for('features') }}">Features</a>
        <a class="nav-link" href="{{ url_for('sr') }}">Savings Rate (SR)</a>
        <a class="nav-link" href="{{ url_for('efr') }}"
          >Emergency Fund Ratio (EFR)</a
        >
        <a class="nav-link" href="{{ url_for('bhr') }}"
          >Basic Housing Ratio (BHR)</a
        >
        <a class="nav-link" href="{{ url_for('bhodr') }}"
          >Broad Housing and Other Debts Ratio (BHODR)</a
        >
        <a class="nav-link" href="{{ url_for('dar') }}"
          >Debt to Assets Ratio (DAR)</a
        >
        <a class="nav-link" href="{{ url_for('nwar') }}"
          >Net Worth to Assets Ratio (NWAR)</a
        >
        <a class="nav-link active" href="{{ url_for('roi') }}"
          >Return on Investment (ROI)</a
        >
        <a class="nav-link" href="{{ url_for('iagpr') }}"
          >Investment Assets to Gross Pay Ratio (IAGPR)</a
        >
      </nav>

      <!-- Konten Utama-->
      <div class="container-fluid">
        <h1 class="mt-5">Return on Investment (ROI)</h1>
        <form method="POST">
          <div class="mb-3">
            <label for="ending_investments" class="form-label"
              >Ending Investment:</label
            >
            <input
              type="text"
              step="any"
              class="form-control"
              id="ending_investments"
              name="ending_investments"
              data-output-id="currency-output1"
              placeholder="Enter Amount"
              required
            />
            <p>Amount: <span id="currency-output1">0</span></p>
          </div>
          <div class="mb-3">
            <label for="beginning_investments" class="form-label"
              >Beginning Investments:</label
            >
            <input
              type="text"
              step="any"
              class="form-control"
              id="beginning_investments"
              name="beginning_investments"
              data-output-id="currency-output2"
              placeholder="Enter Amount"
              required
            />
            <p>Amount: <span id="currency-output2">0</span></p>
          </div>
          <button id="calculate-btn" type="submit" class="btn btn-primary">
            Calculate ROI
          </button>
        </form>
        {% if roi is not none %}
        <div class="mt-4">
          <h3 id="roi-investment-distribution-title">
            ROI Investment Distribution
          </h3>
          <div id="roi-pie-chart-container">
            <canvas id="roi-pie-chart"></canvas>
          </div>
          <p>Ending Investments: {{ ending_investments }}</p>
          <p
            id="ending_investments_dist"
            data-value="{{ ending_investments_dist }}"
          >
            %Final Value: {{ ending_investments_dist }}
          </p>
          <p>Beginning Investments: {{ beginning_investments }}</p>
          <p
            id="beginning_investments_dist"
            data-value="{{ beginning_investments_dist }}"
          >
            %Initial Value: {{ beginning_investments_dist }}
          </p>
          <h3 id="roi-result-title">ROI Result</h3>
          <h3 id="roi-result" data-value="{{ roi }}">Your ROI: {{ roi }}%</h3>
          <div id="roi-bar-chart-container">
            <canvas id="roi-bar-chart"></canvas>
          </div>
          <p id="roi-result-description">
            Rasio laba atas investasi mengukur kinerja aset investasi Anda
            selama satu tahun. Investasi awal adalah nilai aset dari tahun
            sebelumnya dan investasi akhir adalah nilai aset pada akhir tahun
            berjalan. Rasio laba atas investasi minimum berkisar 5%. Jika lebih
            dari 10% termasuk berkategori kuat.Yang perlu diperhatikan adalah
            tujuan, jangka waktu, dan toleransi risiko Anda akan menentukan
            tujuan kinerja spesifik Anda. Anda dapat mencari opsi dengan rekam
            jejak pengembalian yang baik, seperti saham, reksa dana, obligasi,
            dll.
          </p>
        </div>
        {% endif %}
      </div>
    </div>

    <script src="{{ url_for('static', filename='js/roi_chart_data.js') }}"></script>
    <script src="{{ url_for('static', filename='js/currency_format.js') }}"></script>
    <script src="{{ url_for('static', filename='js/navbar.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
  </body>
</html>
